<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Examples</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="../css/bootstrap.css" rel="stylesheet">
	<style type="text/css">
	html{font-family: 微软雅黑;}
	.wrap{padding: 0 15px;}
	h1{text-align: center;}
	.content{}
	.content [class^="col-"]{padding-top:10px;padding-bottom:10px;background: #eee;border: 1px solid #ddd;border-radius: 3px;}
	.content h2{font-family: 微软雅黑;font-size: 18px;text-align: center;}
	.content .row{margin-bottom: 15px;}
	p.lead{font-family: fantasy;font-size: 21px;margin-top: 15px;margin-bottom: 0;}
	</style>
<script type="text/javascript">
	
	function getCookieValue(cookieName){
    	var cookieValue=document.cookie;
    	var cookieStartAt=cookieValue.indexOf(" "+cookieName+"=");
    	if (cookieStartAt==-1) {
    		cookieStartAt=cookieValue.indexOf(cookieName+"=");
    	}
    	if (cookieStartAt==-1) {
    		cookieValue=null;
    	}
    	else{
    		cookieStartAt=cookieValue.indexOf("=",cookieStartAt)+1;
    		var cookieEndAt=cookieValue.indexOf(";",cookieStartAt);
    		if (cookieStartAt==-1) {
    			cookieEndAt=cookieValue.length;
    		}
    		cookieValue=unescape(cookieValue.substring(cookieStartAt,cookieEndAt) );
    	}
    	return cookieValue;
    }
    function setCookie(cookieName,cookieValue,cookiePath,cookieExpires){
    	cookieValue=escape(cookieValue);
    	if (cookiePath=="") {
    		cookiePath=";path="+cookiePath;
    	}
    	if (cookieExpires=="") {
    		var nowDate=new Date();
    		nowDate.setMonth( nowDate.getMonth()+6 );		// 将时间变量变为现在时间后六个月
    		cookieExpires=nowDate.toGMTString();	// 将过期时间转换为GMT时间格式
    	}
    	document.cookie=cookieName+"="+cookieValue+";expires="+cookieExpires+cookiePath;

    }
</script>
</head>
<body>
	<div class="container">
		<h1>cookie的局限性</h1>
		<div class="row">
			<div class="col-sm-12 col-md-12">
				<p class="lead">测试浏览器是否禁用掉了cookie</p>
			    <script type="text/javascript">
				    // setCookie("TestCookie","yes","","");
				    // if (getCookieValue("TestCookie")==null) {
				    // 	alert("这个浏览器把COOKIE禁用掉了");
				    // }
				    // else{
				    // 	alert("OK");
				    // }
			    </script>
			</div>
		</div>
		<hr>
		<div class="row">
			<div class="col-sm-12 col-md-12">
				<script type="text/javascript">
				// 因为一个域只能存20个cookie，而一个浏览器也只能存300个cookie.所以很多时候要把多个cookie存在一个cookie里。
				// setCookie("Name","Karen","","");
				// setCookie("Age","44","","");
				// setCookie("LastVisit","10 Jan 2001","","");
				// 可以将上面信息组合成一个以分号分开的字符串，然后保存在一个cookie里
				setCookie("UserDetails","Karen;44;10 Jan 2001","","");

				// 
				var cookieValues=getCookieValue("UserDetails");
				cookieValues=cookieValues.split(";");
				alert("Name="+cookieValues[0] );
				alert("Age="+cookieValues[1]);
				alert("Last Visit="+cookieValues[2]);
				</script>
			</div>
		</div>
	</div>
	
</body>
</html>